"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const t = require("babel-types");
const babel = require("babel-core");
const visitor = {
    ArrayExpression: {
        exit(path) {
            path.skip();
            path.replaceWith(t.callExpression(t.identifier('$stopifyArray'), [path.node]));
        }
    }
};
function plugin() {
    return { visitor };
}
exports.plugin = plugin;
function polyfillHofFromAst(src) {
    const babelOpts = {
        plugins: [[plugin, {}]],
        babelrc: false,
        ast: true,
        code: false,
        comments: false,
    };
    const { ast } = babel.transformFromAst(src, undefined, babelOpts);
    return ast;
}
exports.polyfillHofFromAst = polyfillHofFromAst;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90cy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVNBLGlDQUFpQztBQUNqQyxvQ0FBb0M7QUFHcEMsTUFBTSxPQUFPLEdBQVk7SUFDckIsZUFBZSxFQUFFO1FBQ2IsSUFBSSxDQUFDLElBQUk7WUFDTCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDWixJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQzdCLENBQUMsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLEVBQzdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixDQUFDO0tBQ0o7Q0FDSixDQUFDO0FBRUYsU0FBZ0IsTUFBTTtJQUNwQixPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUM7QUFDckIsQ0FBQztBQUZELHdCQUVDO0FBRUQsU0FBZ0Isa0JBQWtCLENBQzlCLEdBQWM7SUFDZCxNQUFNLFNBQVMsR0FBRztRQUNkLE9BQU8sRUFBRSxDQUFDLENBQUUsTUFBTSxFQUFFLEVBQUcsQ0FBRSxDQUFDO1FBQzFCLE9BQU8sRUFBRSxLQUFLO1FBQ2QsR0FBRyxFQUFFLElBQUk7UUFDVCxJQUFJLEVBQUUsS0FBSztRQUNYLFFBQVEsRUFBRSxLQUFLO0tBQ2xCLENBQUM7SUFDRixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDbEUsT0FBTyxHQUFpQixDQUFDO0FBQzdCLENBQUM7QUFYRCxnREFXQyJ9