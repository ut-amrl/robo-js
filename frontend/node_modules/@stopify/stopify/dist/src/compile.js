"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const fs = require("fs");
const index_1 = require("./index");
const parseCli = require("@stopify/continuations/dist/src/compiler/parse-compiler-opts");
function main() {
    const src = fs.readFileSync(parseCli.srcPath, 'utf8');
    const dstCode = index_1.stopify(src, parseCli.compilerOpts);
    if (parseCli.dstPath) {
        fs.writeFileSync(parseCli.dstPath, dstCode);
    }
    else {
        console.log(dstCode);
    }
}
try {
    main();
}
catch (reason) {
    console.log(`Stopify error`);
    console.log(reason);
    process.exit(1);
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21waWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdUNBQXFDO0FBQ3JDLHlCQUF5QjtBQUN6QixtQ0FBa0M7QUFDbEMseUZBQXlGO0FBRXpGLFNBQVMsSUFBSTtJQUNYLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN0RCxNQUFNLE9BQU8sR0FBRyxlQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNwRCxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUU7UUFDcEIsRUFBRSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzdDO1NBQ0k7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQztBQUVELElBQUk7SUFDRixJQUFJLEVBQUUsQ0FBQTtDQUNQO0FBQUMsT0FBTyxNQUFNLEVBQUU7SUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNqQjtBQUFBLENBQUMifQ==